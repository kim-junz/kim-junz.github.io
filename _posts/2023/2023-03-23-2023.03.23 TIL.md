---
title: "2023.03.23 TIL" #제목 영역
date: 2023-03-23 #업데이트 날짜/시간
categories: [TIL] #카테고리를 나눠줄 수 있음?! TIL, WIL, Project
tags: [TIL] #태그예시: TIL, WIL, Project
---

`회고`  
휴.. 길지도 않고 그렇다고 엄청 짧지도 않은 인생을 살았지만
이렇게 밑바닥까지 치는 일이 또 있나 싶다

그래도 모든 상황이 다 힘든것은 아니니까 공평하다고 해야하는건지ㅎㅎ
예전에는 심리적으로 불안정할때 상황은 안정했었는데
이제는 심리적으로 안정해지니까 상황이 불안정해졌다

뭐 어쩌겠어 이미 벌어진일이고 그냥 흘러가는 방향대로 흘러가면서 발버둥쳐야지ㅠㅠ

<h5><strong>영속성 컨텍스트</strong></h5>   
학원에서 그렇게 말로만 듣던 영속성컨텍스트에 배해서 배웠다 드디어!
아니 그러니까 이렇게 중요한 개념을 왜 안알려주고 그냥 하냐 이말이지;;;

꽝꽝 얼은 강 위에 녹아있는 약간의 물로 강의 깊이를 재려고 하니,
내가 이해가 가냐 이말이지

✅영속성 컨텍스트란

- 애플리케이션과 데이터베이스 사이에서 객체를 관리하는 논리적인 영역임
- EntityManager를 통해서 persist(entity)하는것은 해당 entity를 영속성컨텍스트를 통해서 영속한다는 뜻임

요약하자면,
→ 해당 entity를 DB에 저장하기 전에 관리해주는 영역에 등록했다는 뜻인데
이 관리해주는 영역인 영속성 컨텍스트는 아래 리스트와 같은 일들을 한다

- 등록할경우, 등록하는 데이터를 1차캐시에 저장하고 트랜잭션 commit을 통해서 DB에 등록함
  → 위와 같이 진행할 경우 여러개의 entity를 persist해놓기만 하고 한번에 등록할수 있다는 장점이 있다
- 그럼 1차 캐시는 무엇이냐?
  → 우리가 원래 같은 DB를 두번 조회하더라도 해당 DB를 담고있는 객체가 다른 인스턴스값을 갖게 되었다
  이는 쿼리로 조회를 2번해서 각각 담았기 때문이다.
  그러나 1차캐시를 이용하면, 한 트랜잭션 안에서는 한번 조회했던 데이터를 임시로 1차캐시에 저장해놓고 있는다
  그렇기 때문에 같은 내용을 또 조회하더라도 쿼리로 두번 조회하는것이 아닌, 처음에는 쿼리로 DB 조회하고 1차캐시에 저장, 그다음엔 쿼리로 DB를 조회하는것이 아닌, 1차캐시에서 같은내용이 있을경우 반환하기 떄문이다

이렇게 개념부터 공부하다보면 정말 개발하신분들 대단하다....
어떻게 이런게 머릿속에 있지...
자세한 내용은 더 정리하였지만, 여기에 쓸 내용은 아닌거같아서 내가 이해한대로 간략하게 써봤다ㅎㅎ
나중에 이런걸 잘 알아둬야 기술면접에서도 술술술 얘기하지...

아무래도 실생활에 없는내용들이기 때문에 이해하려면 진짜 많이 노력해야한다ㅋㅋㅋ
나도 N과 S가 60:40이기 때문에 왠만하면 그러려니 하고 넘어가는데도 어렵다
JPA 들어와서 이제 실습한다! 하고 좋아했더니 또 이론이였다
오래걸릴것이라고 예상된다....ㅋㅋㅋ

`마무리`  
그리고 위에 말했듯이 집안일이 너무 크게 터져서 집중이 안된다...
그래도 아무것도 안하고 누워만있으면 이후에 다시 공부를 시작할때 공부 하는 방법부터 다시 잡아야하니까
느리더라도 꾸준히하자.. 하 이젠 다 놨어...
로또정도나 되어야 내가 맘놓고 공부하지않을까 껄껄
